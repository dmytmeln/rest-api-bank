<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ page isELIgnored="false" %>
<%@ page import="java.time.format.DateTimeFormatter" %>
<%String msg = (String) request.getAttribute("msg");%>
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <!-- Unicons -->
            <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />
            <style>
                <%@include file="../css/style.css"%>
            </style>
        <title>Transactions</title>
    </head>

    <body>

    <!-- Header -->
    <%@include file="header.html"%>

        <!-- Home -->
        <section class="home">

            <h1 class="msg"><%=msg == null ? "" : msg%></h1>

            <table>
                <thead>
                    <th>Message</th>
                    <th>Amount of Money</th>
                    <th>Transaction Type</th>
                    <th>Transaction Date</th>
                </thead>
                <tbody>
                <c:forEach var="transaction" items="${transactions}">
                    <tr>
                        <td>${transaction.msg}</td>
                        <td>${transaction.moneyAmount}</td>
                        <td>${transaction.transactionType}</td>
                        <td>${transaction.transactionDate.format(DateTimeFormatter.ISO_LOCAL_DATE)}</td>
                    </tr>
                </c:forEach>
                </tbody>
            </table>

        </section>

    </body>
</html>
